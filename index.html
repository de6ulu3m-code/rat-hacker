<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RatOS: SYPHON-HACKER</title>
    <style>
        body {
            background: #050505; color: #00ff41; font-family: 'Courier New', monospace;
            display: flex; flex-direction: column; align-items: center; margin: 0; overflow: hidden;
        }
        #game-container { position: relative; width: 100vw; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        
        /* –°–¢–ê–¢–ò–°–¢–ò–ö–ê */
        .hud { position: absolute; top: 20px; left: 20px; font-size: 1.2rem; text-shadow: 0 0 10px #00ff41; }
        .cheese-count { color: #ffcc00; font-size: 2rem; }

        /* –¶–ï–ù–¢–†–ê–õ–¨–ù–´–ô –û–ë–™–ï–ö–¢ */
        #server-core {
            width: 200px; height: 200px; background: #ffcc00; border-radius: 20%;
            display: flex; align-items: center; justify-content: center; font-size: 80px;
            cursor: pointer; box-shadow: 0 0 50px #ffcc00; transition: transform 0.1s;
            position: relative; z-index: 10;
        }
        #server-core:active { transform: scale(0.9); }

        /* –õ–ï–¢–ê–Æ–©–ò–ï –§–ê–ô–†–í–û–õ–´ */
        .firewall {
            position: absolute; width: 60px; height: 60px; background: rgba(255, 0, 0, 0.5);
            border: 2px solid red; border-radius: 50%; display: flex; align-items: center;
            justify-content: center; color: white; font-weight: bold; pointer-events: auto;
            animation: float 4s infinite linear;
        }

        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(100px, 50px) rotate(90deg); }
            50% { transform: translate(0, 150px) rotate(180deg); }
            75% { transform: translate(-100px, 50px) rotate(270deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }

        /* –ú–ê–ì–ê–ó–ò–ù –ê–ü–ì–†–ï–ô–î–û–í */
        .shop { position: absolute; bottom: 20px; display: flex; gap: 20px; }
        .upgrade-btn {
            background: #111; border: 1px solid #00ff41; color: #00ff41;
            padding: 10px; cursor: pointer; border-radius: 5px;
        }
        .upgrade-btn:hover { background: #00ff41; color: #000; }

        .back-btn { position: absolute; top: 20px; right: 20px; color: #555; text-decoration: none; border: 1px solid #555; padding: 5px 10px; border-radius: 5px; }
    </style>
</head>
<body>

<div id="game-container">
    <a href="https://de6ulu3m-code.github.io/ratpage/" class="back-btn">–í–´–ô–¢–ò –ò–ó –°–ï–¢–ò</a>
    
    <div class="hud">
        –ö–ê–ù–ê–õ –í–ó–õ–û–ú–ê: <span id="status">–ê–ö–¢–ò–í–ï–ù</span><br>
        –°–´–† –í –ö–ê–†–ú–ê–ù–ï: <span id="cheese" class="cheese-count">0</span> üßÄ<br>
        –ú–û–©–ù–û–°–¢–¨ –ö–õ–ò–ö–ê: <span id="click-power">1</span>
    </div>

    <div id="server-core" onclick="mineCheese()">üßÄ</div>

    <div class="shop">
        <button class="upgrade-btn" onclick="buyUpgrade('click')">–£–ª—É—á—à–∏—Ç—å –≤–∏—Ä—É—Å (–¶–µ–Ω–∞: <span id="click-cost">50</span> üßÄ)</button>
        <button class="upgrade-btn" onclick="buyUpgrade('auto')">–ö—Ä—ã—Å–∞-–±–æ—Ç (–¶–µ–Ω–∞: <span id="auto-cost">100</span> üßÄ)</button>
    </div>
</div>

<script>
    let cheese = parseInt(localStorage.getItem('ratCheese')) || 0;
    let clickPower = 1;
    let autoPower = 0;
    let clickUpgradeCost = 50;
    let autoUpgradeCost = 100;

    function updateUI() {
        document.getElementById('cheese').innerText = cheese;
        document.getElementById('click-power').innerText = clickPower;
        document.getElementById('click-cost').innerText = clickUpgradeCost;
        document.getElementById('auto-cost').innerText = autoUpgradeCost;
        localStorage.setItem('ratCheese', cheese);
    }

    // –î–û–ë–´–ß–ê
    function mineCheese() {
        cheese += clickPower;
        createParticle();
        updateUI();
    }

    // –≠–§–§–ï–ö–¢ –ß–ê–°–¢–ò–¶ (–ª–µ—Ç–∞—é—â–∏–µ —Ü–∏—Ñ–µ—Ä–∫–∏)
    function createParticle() {
        const p = document.createElement('div');
        p.innerText = "+" + clickPower;
        p.style.position = "absolute";
        p.style.left = "50%"; p.style.top = "45%";
        p.style.color = "#00ff41";
        p.style.fontSize = "1.5rem";
        p.style.pointerEvents = "none";
        document.body.appendChild(p);

        let y = 45;
        let interval = setInterval(() => {
            y -= 2; p.style.top = y + "%";
            p.style.opacity = p.style.opacity ? p.style.opacity - 0.1 : 1;
            if (y < 20) { clearInterval(interval); p.remove(); }
        }, 50);
    }

    // –ê–ü–ì–†–ï–ô–î–´
    function buyUpgrade(type) {
        if (type === 'click' && cheese >= clickUpgradeCost) {
            cheese -= clickUpgradeCost;
            clickPower++;
            clickUpgradeCost = Math.round(clickUpgradeCost * 1.5);
        } else if (type === 'auto' && cheese >= autoUpgradeCost) {
            cheese -= autoUpgradeCost;
            autoPower++;
            autoUpgradeCost = Math.round(autoUpgradeCost * 1.8);
        } else {
            alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—ã—Ä–∞ –¥–ª—è –∞–ø–≥—Ä–µ–π–¥–∞!");
        }
        updateUI();
    }

    // –ê–í–¢–û-–ö–õ–ò–ö
    setInterval(() => {
        if (autoPower > 0) {
            cheese += autoPower;
            updateUI();
        }
    }, 1000);

    // –°–û–ó–î–ê–ù–ò–ï –û–ü–ê–°–ù–´–• –§–ê–ô–†–í–û–õ–û–í
    function spawnFirewall() {
        const fw = document.createElement('div');
        fw.className = 'firewall';
        fw.innerText = "ALARM";
        fw.style.left = Math.random() * 80 + 10 + "%";
        fw.style.top = Math.random() * 80 + 10 + "%";
        
        fw.onclick = (e) => {
            e.stopPropagation(); // –ß—Ç–æ–±—ã –∫–ª–∏–∫ –Ω–µ –∑–∞—Å—á–∏—Ç–∞–ª—Å—è –∫–∞–∫ –º–∞–π–Ω–∏–Ω–≥
            cheese = Math.max(0, cheese - 20);
            alert("–°–ò–°–¢–ï–ú–ê –û–ë–ù–ê–†–£–ñ–ï–ù–ê! –ü–æ—Ç–µ—Ä—è–Ω–æ 20 üßÄ");
            fw.remove();
            updateUI();
        };

        document.getElementById('game-container').appendChild(fw);
        setTimeout(() => { if(fw) fw.remove(); }, 5000);
    }

    setInterval(spawnFirewall, 3000);

    updateUI();
</script>
</body>
</html>
