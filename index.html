<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RatOS: Ultra-Breach</title>
    <style>
        body {
            background: #000; color: #00ff41; font-family: 'Courier New', monospace;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 100vh; margin: 0; overflow: hidden;
        }
        #matrix-bg { position: fixed; top: 0; left: 0; z-index: -1; opacity: 0.1; font-size: 10px; }
        
        .header { position: absolute; top: 20px; width: 90%; display: flex; justify-content: space-between; font-size: 1.2rem; border-bottom: 1px solid #00ff41; padding-bottom: 5px; }
        .cheese-stat { color: #ffcc00; }

        /* –ò–ì–†–û–í–û–ï –ü–û–õ–ï */
        #game-board {
            display: grid; grid-template-columns: repeat(4, 70px); grid-template-rows: repeat(4, 70px);
            gap: 15px; background: rgba(0, 50, 0, 0.3); padding: 20px; border: 2px solid #00ff41;
            box-shadow: 0 0 20px #00ff41; border-radius: 10px;
        }
        .node {
            width: 70px; height: 70px; border: 1px solid #00ff41; display: flex;
            align-items: center; justify-content: center; font-size: 1.5rem;
            cursor: pointer; transition: 0.2s; user-select: none;
        }
        .node:hover { background: rgba(0, 255, 65, 0.2); box-shadow: 0 0 10px #00ff41; }
        .node.target { color: #000; background: #00ff41; font-weight: bold; }
        .node.error { background: #ff4444; border-color: red; }

        /* –¢–ê–ô–ú–ï–† */
        #timer-bar { width: 320px; height: 10px; background: #111; border: 1px solid #00ff41; margin-top: 20px; position: relative; }
        #timer-fill { width: 100%; height: 100%; background: #00ff41; transition: width 0.1s linear; }

        .log { margin-top: 20px; height: 60px; text-align: center; font-size: 0.9rem; color: #888; }
        .back-btn { position: absolute; bottom: 20px; color: #00ff41; text-decoration: none; border: 1px solid #00ff41; padding: 5px 20px; }
    </style>
</head>
<body>

<div id="matrix-bg"></div>

<div class="header">
    <div>SYSTEM: BREACH_V2.0</div>
    <div class="cheese-stat">DATA_VAL: <span id="cheese-val">0</span> üßÄ</div>
</div>

<div id="target-code" style="font-size: 1.5rem; margin-bottom: 15px; letter-spacing: 5px;">–¶–ï–õ–¨: <span id="key">--</span></div>

<div id="game-board"></div>

<div id="timer-bar"><div id="timer-fill"></div></div>

<div class="log" id="console-log">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–∑–ª–æ–º–∞...</div>

<a href="https://de6ulu3m-code.github.io/ratpage/" class="back-btn">DISCONNECT</a>

<script>
    let cheese = parseInt(localStorage.getItem('ratCheese')) || 0;
    let currentKey = "";
    let timeLeft = 100;
    let level = 1;
    let symbols = ["0", "1", "X", "Y", "A", "B", "!", "?", "#", "Œ©"];

    function updateStats() {
        document.getElementById('cheese-val').innerText = cheese;
        localStorage.setItem('ratCheese', cheese);
    }

    function createBoard() {
        const board = document.getElementById('game-board');
        board.innerHTML = "";
        let allSymbols = [];
        
        // –ó–∞–ø–æ–ª–Ω—è–µ–º —Å–ª—É—á–∞–π–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏
        for (let i = 0; i < 16; i++) {
            let s = symbols[Math.floor(Math.random() * symbols.length)];
            allSymbols.push(s);
            const node = document.createElement('div');
            node.className = 'node';
            node.innerText = s;
            node.onclick = () => checkNode(s, node);
            board.appendChild(node);
        }
        
        // –í—ã–±–∏—Ä–∞–µ–º –æ–¥–∏–Ω –∏–∑ —Å–∏–º–≤–æ–ª–æ–≤ –∫–∞–∫ —Ü–µ–ª—å
        currentKey = allSymbols[Math.floor(Math.random() * allSymbols.length)];
        document.getElementById('key').innerText = currentKey;
    }

    function checkNode(symbol, element) {
        if (symbol === currentKey) {
            cheese += Math.floor(level * 1.5);
            level++;
            timeLeft = Math.min(100, timeLeft + 20); // –î–æ–±–∞–≤–ª—è–µ–º –≤—Ä–µ–º—è –∑–∞ —É—Å–ø–µ—Ö
            document.getElementById('console-log').innerText = "–î–û–°–¢–£–ü –†–ê–ó–†–ï–®–ï–ù. –ü–ï–†–ï–•–û–î –ö –°–õ–ï–î–£–Æ–©–ï–ú–£ –£–ó–õ–£...";
            element.classList.add('target');
            setTimeout(createBoard, 200);
        } else {
            timeLeft -= 15; // –®—Ç—Ä–∞—Ñ –∑–∞ –æ—à–∏–±–∫—É
            document.getElementById('console-log').innerText = "–û–®–ò–ë–ö–ê! –°–ò–°–¢–ï–ú–ê –û–ë–ù–ê–†–£–ñ–ò–õ–ê –í–¢–û–†–ñ–ï–ù–ò–ï!";
            element.classList.add('error');
            setTimeout(() => element.classList.remove('error'), 300);
        }
        updateStats();
    }

    // –¢–∞–π–º–µ—Ä –∏–≥—Ä—ã
    setInterval(() => {
        timeLeft -= (0.5 + (level * 0.05)); // –ß–µ–º –≤—ã—à–µ —É—Ä–æ–≤–µ–Ω—å, —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ –∫–∞–ø–∞–µ—Ç –≤—Ä–µ–º—è
        document.getElementById('timer-fill').style.width = timeLeft + "%";
        
        if (timeLeft <= 0) {
            alert("–°–û–ï–î–ò–ù–ï–ù–ò–ï –†–ê–ó–û–†–í–ê–ù–û. –í—ã —É—Å–ø–µ–ª–∏ –¥–æ–±—ã—Ç—å " + (level * 2) + " —Å—ã—Ä–∫–æ–≤.");
            location.reload();
        }
    }, 100);

    // –ú–∞—Ç—Ä–∏—á–Ω—ã–π —Ñ–æ–Ω –¥–ª—è –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã
    function drawMatrix() {
        let bg = document.getElementById('matrix-bg');
        let txt = "";
        for(let i=0; i<1000; i++) txt += symbols[Math.floor(Math.random()*symbols.length)];
        bg.innerText = txt;
    }
    setInterval(drawMatrix, 100);

    createBoard();
    updateStats();
</script>
</body>
</html>
